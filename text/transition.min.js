!function(t,n){"function"==typeof define&&define.amd?define([],n):t.transition=n()}(this,function(){var t,n,e;return function(i){function r(t,n){return v.call(t,n)}function o(t,n){var e,i,r,o,s,a,u,l,p,f,h,c=n&&n.split("/"),d=T.map,y=d&&d["*"]||{};if(t&&"."===t.charAt(0))if(n){for(c=c.slice(0,c.length-1),t=t.split("/"),s=t.length-1,T.nodeIdCompat&&E.test(t[s])&&(t[s]=t[s].replace(E,"")),t=c.concat(t),p=0;p<t.length;p+=1)if(h=t[p],"."===h)t.splice(p,1),p-=1;else if(".."===h){if(1===p&&(".."===t[2]||".."===t[0]))break;p>0&&(t.splice(p-1,2),p-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((c||y)&&d){for(e=t.split("/"),p=e.length;p>0;p-=1){if(i=e.slice(0,p).join("/"),c)for(f=c.length;f>0;f-=1)if(r=d[c.slice(0,f).join("/")],r&&(r=r[i])){o=r,a=p;break}if(o)break;!u&&y&&y[i]&&(u=y[i],l=p)}!o&&u&&(o=u,a=l),o&&(e.splice(0,a,o),t=e.join("/"))}return t}function s(t,n){return function(){var e=F.call(arguments,0);return"string"!=typeof e[0]&&1===e.length&&e.push(null),c.apply(i,e.concat([t,n]))}}function a(t){return function(n){return o(n,t)}}function u(t){return function(n){g[t]=n}}function l(t){if(r(m,t)){var n=m[t];delete m[t],P[t]=!0,h.apply(i,n)}if(!r(g,t)&&!r(P,t))throw new Error("No "+t);return g[t]}function p(t){var n,e=t?t.indexOf("!"):-1;return e>-1&&(n=t.substring(0,e),t=t.substring(e+1,t.length)),[n,t]}function f(t){return function(){return T&&T.config&&T.config[t]||{}}}var h,c,d,y,g={},m={},T={},P={},v=Object.prototype.hasOwnProperty,F=[].slice,E=/\.js$/;d=function(t,n){var e,i=p(t),r=i[0];return t=i[1],r&&(r=o(r,n),e=l(r)),r?t=e&&e.normalize?e.normalize(t,a(n)):o(t,n):(t=o(t,n),i=p(t),r=i[0],t=i[1],r&&(e=l(r))),{f:r?r+"!"+t:t,n:t,pr:r,p:e}},y={require:function(t){return s(t)},exports:function(t){var n=g[t];return"undefined"!=typeof n?n:g[t]={}},module:function(t){return{id:t,uri:"",exports:g[t],config:f(t)}}},h=function(t,n,e,o){var a,p,f,h,c,T,v=[],F=typeof e;if(o=o||t,"undefined"===F||"function"===F){for(n=!n.length&&e.length?["require","exports","module"]:n,c=0;c<n.length;c+=1)if(h=d(n[c],o),p=h.f,"require"===p)v[c]=y.require(t);else if("exports"===p)v[c]=y.exports(t),T=!0;else if("module"===p)a=v[c]=y.module(t);else if(r(g,p)||r(m,p)||r(P,p))v[c]=l(p);else{if(!h.p)throw new Error(t+" missing "+p);h.p.load(h.n,s(o,!0),u(p),{}),v[c]=g[p]}f=e?e.apply(g[t],v):void 0,t&&(a&&a.exports!==i&&a.exports!==g[t]?g[t]=a.exports:f===i&&T||(g[t]=f))}else t&&(g[t]=e)},t=n=c=function(t,n,e,r,o){if("string"==typeof t)return y[t]?y[t](n):l(d(t,n).f);if(!t.splice){if(T=t,T.deps&&c(T.deps,T.callback),!n)return;n.splice?(t=n,n=e,e=null):t=i}return n=n||function(){},"function"==typeof e&&(e=r,r=o),r?h(i,t,n,e):setTimeout(function(){h(i,t,n,e)},4),c},c.config=function(t){return c(t)},t._defined=g,e=function(t,n,e){n.splice||(e=n,n=[]),r(g,t)||r(m,t)||(m[t]=[t,n,e])},e.amd={jQuery:!0}}(),e("../lib/almond",function(){}),e("utils",[],function(){function t(t){return"-"+t.toLowerCase()}function n(){var t,n,e,i=h.slice();for(h=[],t=0;t<i.length;t++)n=i[t],e=n.func,n.context?e.apply(n.context):e()}var e,i,r,o,s,a,u,l,p={},f=/[A-Z]/g,h=[];return e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},i=function(){var t=document.createElement("div"),n=["Webkit","Moz","O","ms","Khtml"],e=/^[a-z]/,i=n.length;return function(r){var o,s,a;if(p.hasOwnProperty(r))return p[r];if("undefined"!=typeof t.style[r])return p[r]=r,r;for(a=r.replace(e,function(t){return t.toUpperCase()}),o=0;i>o;o++)if(s=n[o]+a,"undefined"!=typeof t.style[s])return p[r]=s,s;return null}}(),r=null!==i("transition"),o=i("transitionProperty"),s=i("transitionDuration"),a=i("transitionDelay"),u=i("transitionTimingFunction"),l=e[i("transition")],{supportedCssProperty:i,hasTransition:r,transitionProperty:o,transitionDuration:s,transitionDelay:a,transitionTimingFunction:u,transitionEndEvent:l,camelCaseToDashes:function(n){return n.replace(f,t)},domToCSS:function(t){return t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")},cssToDOM:function(t){return t.replace(/-([a-z])/g,function(t,n){return n.toUpperCase()}).replace(/^[A-Z]/,function(t){return t.toLowerCase()})},requestAnimationFrame:function(t,n){return window.requestAnimationFrame(function(e){n?t.apply(n,[e]):t(e)},null)},executeInNextEventLoop:function(t,e){0===h.length&&window.setTimeout(n,0),h.push({func:t,context:e})},extend:function(t){if(!this.isObject(t))return t;for(var n,e,i=1,r=arguments.length;r>i;i++){n=arguments[i];for(e in n)hasOwnProperty.call(n,e)&&(t[e]=n[e])}return t},defaults:function(t){if(!this.isObject(t))return t;for(var n=1,e=arguments.length;e>n;n++){var i=arguments[n];for(var r in i)i.hasOwnProperty(r)&&void 0===t[r]&&(t[r]=i[r])}return t},isObject:function(t){var n=typeof t;return"function"===n||"object"===n&&!!t},isFunction:function(t){return"function"==typeof t},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isBoolean:function(t){return"boolean"==typeof t},isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}}}),!function(t,n,i){"function"==typeof e&&"undefined"!=typeof e.amd?e(n,function(){return i(t)}):"object"==typeof module&&"object"==typeof module.exports?module.exports=i(t):t[n]=function(){var e=t[n],r=i(t);return r.noConflict=function(){return t[n]=e,r},r}()}(this,"Thenable",function(){var t=0,n=1,e=2,i=function(n){return this instanceof i?(this.id="Thenable/1.0.7",this.state=t,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},void("function"==typeof n&&n.call(this,this.fulfill.bind(this),this.reject.bind(this)))):new i(n)};i.prototype={fulfill:function(t){return r(this,n,"fulfillValue",t)},reject:function(t){return r(this,e,"rejectReason",t)},then:function(t,n){var e=this,r=new i;return e.onFulfilled.push(a(t,r,"fulfill")),e.onRejected.push(a(n,r,"reject")),o(e),r.proxy}};var r=function(n,e,i,r){return n.state===t&&(n.state=e,n[i]=r,o(n)),n},o=function(t){t.state===n?s(t,"onFulfilled",t.fulfillValue):t.state===e&&s(t,"onRejected",t.rejectReason)},s=function(t,n,e){if(0!==t[n].length){var i=t[n];t[n]=[];var r=function(){for(var t=0;t<i.length;t++)i[t](e)};"object"==typeof process&&"function"==typeof process.nextTick?process.nextTick(r):"function"==typeof setImmediate?setImmediate(r):setTimeout(r,0)}},a=function(t,n,e){return function(i){if("function"!=typeof t)n[e].call(n,i);else{var r;try{r=t(i)}catch(o){return void n.reject(o)}u(n,r)}}},u=function(t,n){if(t===n||t.proxy===n)return void t.reject(new TypeError("cannot resolve promise with itself"));var e;if("object"==typeof n&&null!==n||"function"==typeof n)try{e=n.then}catch(i){return void t.reject(i)}if("function"!=typeof e)t.fulfill(n);else{var r=!1;try{e.call(n,function(e){r||(r=!0,e===n?t.reject(new TypeError("circular thenable chain")):u(t,e))},function(n){r||(r=!0,t.reject(n))})}catch(i){r||t.reject(i)}}};return i}),e("Thenable",function(){}),e("transition",["./utils","Thenable"],function(t,n){function e(){var n,e,i=null,r=null,o=/[-+]?\d+(?:.\d+)?(?:s|ms)/i,s=!1;if(1===arguments.length?t.isString(arguments[0])?r=arguments[0].split(" "):t.isArray(arguments[0])?r=arguments[0]:i=arguments[0]:r=arguments,i)this.property=i.property,this.from=i.from,this.to=i.to,this.duration=t.isString(i.duration)&&o.test(i.duration)?i.duration:null,this.delay=t.isString(i.delay)&&o.test(i.delay)?i.delay:null,this.timingFunction=t.isString(i.timingFunction)?i.timingFunction:null,this.onTransitionEnd=t.isFunction(i.onTransitionEnd)?i.onTransitionEnd:null,this.beginFromCurrentValue=t.isBoolean(i.beginFromCurrentValue)?i.beginFromCurrentValue:null;else{if(!(r.length>=3))throw"[TransitionProperty] Invalid number of arguments.";for(this.property=r[0],this.from=r[1],this.to=r[2],this.duration=null,this.delay=null,this.timingFunction=null,this.onTransitionEnd=null,this.beginFromCurrentValue=null,n=3;n<r.length;n++)e=r[n],t.isString(e)?o.test(e)?s?this.delay=e:(s=!0,this.duration=e):this.timingFunction=e:t.isFunction(e)&&(this.onTransitionEnd=e)}this.domProperty=t.supportedCssProperty(this.property),this.cssProperty=t.domToCSS(this.domProperty)}function i(e,r){if(!e)throw"Transition: 'properties' is a required parameter";r=t.defaults(r||{},i.defaultOptions),this.properties=e,this.duration=r.duration,this.delay=r.delay,this.timingFunction=r.timingFunction,this.onTransitionEnd=r.onTransitionEnd,this.thenable=new n,this.onBeforeChangeStyle=r.onBeforeChangeStyle,this.onAfterChangeStyle=r.onAfterChangeStyle,this.beginFromCurrentValue=t.isBoolean(r.beginFromCurrentValue)?r.beginFromCurrentValue:!1,this.toBeTransitionedPropertyNames=[],this.toBeTransitionedProperties=[],this.transitioningPropertyNames=[],this.transitioningProperties=[],this.allPropertiesWereFinished=!0}return i.defaultOptions={duration:"400ms",delay:"0s",timingFunction:"ease",onTransitionEnd:null,onBeforeChangeStyle:null,onAfterChangeStyle:null},i.property=function(t){return new e(t)},i.begin=function(n,r,o){var s,a,u,l=[];if(r.hasOwnProperty("properties")&&(o=r,r=r.properties),t.isString(r))l.push(new e(r));else if(t.isArray(r))if(t.isString(r[0])&&-1===r[0].indexOf(" "))l.push(new e(r));else for(a=0;a<r.length;a++)u=r[a],!t.isArray(u)&&u instanceof e||(u=new e(u)),l.push(u);else if("property"in r)u=new e(r),l.push(u);else for(u in r)r.hasOwnProperty(u)&&(t.isArray(r[u])?(u=[u].concat(r[u]),u=new e(u)):(u=t.defaults({property:u},r[u]),u=new e(u)),l.push(u));return s=new i(l,o),s.beginTransition(n),{then:s.thenable.proxy.then,pause:function(){s.pause()},remove:function(){s.remove()}}},i.getElementTransitionValues=function(n){var e,i,r,o,s,a,u,l,p,f,h=/\s*,\s*/,c=[],d=[],y=[],g=[];if(i=n.style[t.transitionProperty]){if(r=n.style[t.transitionDuration],o=n.style[t.transitionDelay],s=n.style[t.transitionTimingFunction],c=i.split(h),d=r?r.split(h):["0s"],y=o?o.split(h):["0s"],s)for(g=[],h=/(?:\s*,)?\s*([^(,]+(?:\([^)]+\))?)/g;a=null!==h.exec(s);)g.push(a[1]);else g=["ease"];for(u=c.length,l=d.length,p=y.length,f=g.length,e=0;u>e;e++)e>=l&&d.push(d[e%l]),e>=p&&y.push(y[e%p]),e>=f&&g.push(g[e%f])}return{cssProperties:c,durations:d,delays:y,timingFunctions:g}},i.setElementTransitionValues=function(n,e){n.style[t.transitionProperty]=e.cssProperties.join(", "),n.style[t.transitionDuration]=e.durations.join(", "),n.style[t.transitionDelay]=e.delays.join(", "),n.style[t.transitionTimingFunction]=e.timingFunctions.join(", ")},i.prototype={constructor:i,beginTransition:function(n){var e,r;for(this.finishTransitioningPropertiesIfExist(n),e=0;e<this.properties.length;e++)r=this.properties[e],t.isString(r.from)||t.isNumber(r.from)||(r.from=window.getComputedStyle(n,null).getPropertyValue(r.cssProperty));for(e=0;e<this.properties.length;e++)r=this.properties[e],r.from==r.to?(n.style[r.domProperty]=r.to,this.executeOnTransitionEndForProperty(r,n,!0)):(n.style[r.domProperty]=r.from,this.toBeTransitionedPropertyNames.push(r.cssProperty),this.toBeTransitionedProperties.push(r));return t.isFunction(this.onBeforeChangeStyle)&&this.onBeforeChangeStyle(n),0===this.toBeTransitionedProperties.length?(t.isFunction(this.onAfterChangeStyle)&&this.onAfterChangeStyle(n),void this.executeOnTransitionEnd(n,!0)):(n.offsetHeight,this.addTransitionEndListener(n),void t.executeInNextEventLoop(function(){var e,r,o;if(0!==this.toBeTransitionedProperties.length){for(e=i.getElementTransitionValues(n),r=0;r<this.toBeTransitionedProperties.length;r++)o=this.toBeTransitionedProperties[r],e.cssProperties.push(o.cssProperty),e.durations.push(o.duration||this.duration),e.delays.push(o.delay||this.delay),e.timingFunctions.push(o.timingFunction||this.timingFunction);for(this.transitioningPropertyNames=this.toBeTransitionedPropertyNames,this.transitioningProperties=this.toBeTransitionedProperties,this.toBeTransitionedPropertyNames=[],this.toBeTransitionedProperties=[],i.setElementTransitionValues(n,e),r=0;r<this.transitioningProperties.length;r++)o=this.transitioningProperties[r],n.style[o.domProperty]=o.to;t.isFunction(this.onAfterChangeStyle)&&this.onAfterChangeStyle(n)}},this))},pause:function(){},remove:function(){},handleEvent:function(t){t.target===t.currentTarget&&this.hasTransitioningProperty(t.propertyName)&&this.finishTransitioningProperty(t.currentTarget,t.propertyName)},hasTransitioningProperty:function(t){return this.transitioningPropertyNames.indexOf(t)>=0},removeTransitioningProperty:function(t){var n;if(n=this.transitioningPropertyNames.indexOf(t),0>n)throw"[Transition.removeTransitioningProperty]: Transition does not have transitioning property '"+t+"'";this.transitioningPropertyNames.splice(n,1),this.transitioningProperties.splice(n,1)},hasToBeTransitionedProperty:function(t){return this.toBeTransitionedPropertyNames.indexOf(t)>=0},removeToBeTransitionedProperty:function(t){var n;if(n=this.toBeTransitionedPropertyNames.indexOf(t),0>n)throw"[Transition.removeToBeTransitionedProperty]: Transition does not have toBeTransitionedProperty '"+t+"'";this.toBeTransitionedPropertyNames.splice(n,1),this.toBeTransitionedProperties.splice(n,1)},getPropertyByPropertyName:function(t){var n;for(n=0;n<this.properties.length;n++)if(this.properties[n].cssProperty===t)return this.properties[n];throw"[Transition.getPropertyByPropertyName]: Transition does not have property '"+t+"'"},finishTransitioningProperty:function(t,n){var e,r,o;if(this.removeTransitioningProperty(n),r=i.getElementTransitionValues(t),e=r.cssProperties.indexOf(n),0>e)throw"[Transition.finishTransitioningProperty]: Did not find transitionProperty '"+n+"'";r.cssProperties.splice(e,1),r.durations.splice(e,1),r.delays.splice(e,1),r.timingFunctions.splice(e,1),i.setElementTransitionValues(t,r),o=this.getPropertyByPropertyName(n),this.executeOnTransitionEndForProperty(o,t,!0),0===this.transitioningProperties.length&&this.removeTransitionEndListener(t,!1)},finishTransitioningPropertiesIfExist:function(t){var n,e,r,o,s,a,u,l=!1;if(t.hasOwnProperty("_transitions")&&0!==t._transitions.length){for(r=i.getElementTransitionValues(t),o=t._transitions.slice(),n=0;n<o.length;n++){for(s=o[n],a=[],u=[],e=0;e<this.properties.length;e++)s.hasTransitioningProperty(this.properties[e].cssProperty)?a.push(this.properties[e]):s.hasToBeTransitionedProperty(this.properties[e].cssProperty)&&u.push(this.properties[e]);a.length?(l=!0,s.allPropertiesWereFinished=!1,s.finishTransitioningProperties(t,a,r,this.beginFromCurrentValue)):u.length&&(s.allPropertiesWereFinished=!1,s.finishToBeTransitionedProperties(t,u,this.beginFromCurrentValue))}l&&i.setElementTransitionValues(t,r)}},finishTransitioningProperties:function(t,n,e,i){var r,o,s,a,u;for(r=0;r<n.length;r++){if(s=n[r],u=s.cssProperty,this.removeTransitioningProperty(u),this.updateFromToCurrentValueIfNeeded(t,s,i),o=e.cssProperties.indexOf(u),0>o)throw"[Transition.finishTransitioningProperties]: Did not find transitionProperty '"+u+"'";e.cssProperties.splice(o,1),e.durations.splice(o,1),e.delays.splice(o,1),e.timingFunctions.splice(o,1),a=this.getPropertyByPropertyName(u),this.executeOnTransitionEndForProperty(a,t,!1)}0===this.transitioningProperties.length&&this.removeTransitionEndListener(t,!0)},finishToBeTransitionedProperties:function(n,e,i){var r,o,s,a;for(r=0;r<e.length;r++)o=e[r],a=o.cssProperty,this.removeToBeTransitionedProperty(a),this.updateFromToCurrentValueIfNeeded(n,o,i),s=this.getPropertyByPropertyName(a),this.executeOnTransitionEndForProperty(s,n,!1);0===this.toBeTransitionedProperties.length&&(t.isFunction(this.onAfterChangeStyle)&&this.onAfterChangeStyle(n),this.removeTransitionEndListener(n,!0))},updateFromToCurrentValueIfNeeded:function(n,e,i){var r=t.isBoolean(e.beginFromCurrentValue);(r&&e.beginFromCurrentValue||!r&&i)&&(e.from=window.getComputedStyle(n,null).getPropertyValue(e.cssProperty))},addTransitionEndListener:function(n){n.hasOwnProperty("_transitions")||(n._transitions=[]),n._transitions.push(this),n.addEventListener(t.transitionEndEvent,this,!1)},removeTransitionEndListener:function(n,e){var i;if(!n.hasOwnProperty("_transitions"))throw"element does not have own _transitions property";if(i=n._transitions.indexOf(this),0>i)throw"Can't remove non existing transition from an element";n._transitions.splice(i,1),n.removeEventListener(t.transitionEndEvent,this,!1),this.executeOnTransitionEnd(n,e)},executeOnTransitionEndForProperty:function(n,e,i){var r;t.isFunction(n.onTransitionEnd)&&(r=n.onTransitionEnd,t.executeInNextEventLoop(function(){r(e,i)}))},executeOnTransitionEnd:function(n,e){var i;t.isFunction(this.onTransitionEnd)&&(i=this.onTransitionEnd,e?t.executeInNextEventLoop(function(){i(n,this.allPropertiesWereFinished)},this):i(n,this.allPropertiesWereFinished)),this.thenable.fulfill(this.allPropertiesWereFinished)}},{TransitionProperty:e,property:i.property,transition:i.begin,begin:i.begin}}),n("transition")});
//# sourceMappingURL=transition.min.js.map